<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√în Thi H·ªçc K·ª≥ 1 - L·ªõp 1.2</title>
    <style>
        :root { --primary: #4caf50; --secondary: #2196f3; --wrong: #f44336; --bg: #fdfdfd; }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #e3f2fd; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 10px; }
        #quiz-container { background: white; padding: 25px; border-radius: 30px; box-shadow: 0 15px 35px rgba(0,0,0,0.2); width: 100%; max-width: 650px; text-align: center; border: 6px solid var(--primary); min-height: 550px; position: relative; }
        
        /* N√∫t Home bi·ªÉu t∆∞·ª£ng */
        .home-icon { position: absolute; top: 20px; left: 20px; font-size: 24px; cursor: pointer; background: #eee; border-radius: 50%; width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; border: 2px solid #ddd; transition: 0.3s; z-index: 10; }
        .home-icon:hover { background: #ddd; transform: scale(1.1); }

        .menu-btn { width: 100%; padding: 20px; margin: 12px 0; font-size: 18px; font-weight: bold; border-radius: 18px; border: none; cursor: pointer; transition: 0.3s; color: white; display: block; box-shadow: 0 4px 0 rgba(0,0,0,0.2); }
        .btn-toan { background: #ff9800; }
        .btn-chinh-ta { background: #9c27b0; }
        .btn-doc-hieu { background: #00bcd4; }
        
        .progress { font-size: 16px; color: #555; margin: 15px auto; font-weight: bold; background: #fff9c4; padding: 8px; border-radius: 20px; width: fit-content; }
        #question { font-size: 22px; font-weight: bold; margin-bottom: 20px; color: #333; min-height: 60px; line-height: 1.4; }
        .options { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        button.option-btn { padding: 18px; font-size: 18px; border: 3px solid #eee; border-radius: 15px; background: #fff; cursor: pointer; font-weight: bold; }
        button.correct { background-color: var(--primary) !important; color: white; border-color: var(--primary); }
        button.wrong { background-color: var(--wrong) !important; color: white; border-color: var(--wrong); }
        
        .controls { margin-top: 30px; display: flex; justify-content: space-between; gap: 10px; }
        .nav-btn { padding: 12px; border: none; border-radius: 12px; background: var(--secondary); color: white; cursor: pointer; font-size: 16px; flex: 1; font-weight: bold; }
        
        .reading-text { background: #fffde7; padding: 20px; border-left: 8px solid #fbc02d; text-align: left; margin-bottom: 20px; font-size: 19px; line-height: 1.6; border-radius: 10px; }
        .score-num { font-size: 70px; color: #ff9800; font-weight: bold; margin: 10px 0; }
    </style>
</head>
<body>

<div id="quiz-container">
    <div id="home-button" class="home-icon" style="display: none;" onclick="goHome()" title="Quay v·ªÅ Trang ch·ªß">üè†</div>

    <div id="menu-screen">
        <h2 style="color: #2e7d32; font-size: 26px;">üçé √îN THI H·ªåC K·ª≤ 1 - L·ªöP 1.2 üçé</h2>
        <p style="font-weight: bold; color: #555;">B√© ch·ªçn ph·∫ßn mu·ªën h·ªçc nh√©:</p>
        
        <button class="menu-btn btn-toan" onclick="startQuiz(1)">
            PH·∫¶N 1: TO√ÅN & H√åNH KH·ªêI<br>
            <small>(25 c√¢u - Thi ng√†y 29/12)</small>
        </button>
        
        <button class="menu-btn btn-chinh-ta" onclick="startQuiz(2)">
            PH·∫¶N 2: QUY T·∫ÆC CH√çNH T·∫¢<br>
            <small>(35 c√¢u - Ph√¢n bi·ªát c/k, g/gh, ng/ngh)</small>
        </button>
        
        <button class="menu-btn btn-doc-hieu" onclick="startQuiz(3)">
            PH·∫¶N 3: V·∫¶N & ƒê·ªåC HI·ªÇU<br>
            <small>(40 c√¢u - √în t·∫≠p Tu·∫ßn 1 ƒë·∫øn 18)</small>
        </button>

        <div style="margin-top: 20px; padding: 10px; background: #fff; border-radius: 10px; font-size: 14px; color: #444; border: 1px dashed #aaa;">
            <b>L∆∞u √Ω cho b√©:</b><br>
            üìÖ 29/12: To√°n + ƒê·ªçc th√†nh ti·∫øng<br>
            üìÖ 30/12: Vi·∫øt + ƒê·ªçc hi·ªÉu
        </div>
    </div>

    <div id="quiz-content" style="display:none;">
        <div class="progress" id="progress"></div>
        <div id="reading-container" class="reading-text" style="display:none;"></div>
        <div id="question"></div>
        <div class="options" id="options"></div>
        <div id="result-message" style="margin-top:15px; font-size: 20px; font-weight:bold;"></div>
        
        <div class="controls">
            <button class="nav-btn" id="prev-btn" onclick="prevQuestion()">Quay l·∫°i</button>
            <button class="nav-btn" id="next-btn" onclick="nextQuestion()">Ti·∫øp theo</button>
        </div>
    </div>

    <div id="score-board" style="display:none;">
        <h2 style="margin-top: 40px;">üéä HO√ÄN TH√ÄNH R·ªíI! üéä</h2>
        <p>S·ªë c√¢u ƒë√∫ng c·ªßa b√© l√†:</p>
        <div class="score-num" id="final-score">0/0</div>
        <p id="feedback-text" style="font-size: 20px; font-weight: bold; padding: 0 20px;"></p>
        <button class="menu-btn" style="background:var(--primary); width: 80%; margin: 20px auto;" onclick="goHome()">L√†m ph·∫ßn kh√°c</button>
    </div>
</div>

<script>
    const part1 = [
        // TO√ÅN: 25 C√ÇU
        { q: "4 + 5 = ?", a: ["8", "9", "10"], correct: 1 },
        { q: "10 - 4 = ?", a: ["5", "6", "7"], correct: 1 },
        { q: "7 + 0 = ?", a: ["0", "7", "10"], correct: 1 },
        { q: "6 + 4 = ?", a: ["9", "10", "1"], correct: 1 },
        { q: "9 - 5 = ?", a: ["3", "4", "5"], correct: 1 },
        { q: "3 + 2 + 4 = ?", a: ["8", "9", "10"], correct: 1 },
        { q: "10 - 1 - 2 = ?", a: ["7", "6", "8"], correct: 0 },
        { q: "S·ªë l·ªõn nh·∫•t: 5, 1, 9, 3?", a: ["5", "9", "3"], correct: 1 },
        { q: "S·ªë b√© nh·∫•t: 8, 2, 6, 10?", a: ["8", "2", "6"], correct: 1 },
        { q: "ƒêi·ªÅn d·∫•u: 8 ... 5", a: [">", "<", "="], correct: 0 },
        { q: "ƒêi·ªÅn d·∫•u: 4 + 4 ... 8", a: [">", "<", "="], correct: 2 },
        { q: "G·ªôp 2 v√† 5 ƒë∆∞·ª£c m·∫•y?", a: ["6", "7", "8"], correct: 1 },
        { q: "G·ªôp 4 v√† 6 ƒë∆∞·ª£c m·∫•y?", a: ["9", "10", "11"], correct: 1 },
        { q: "T√°ch 7 g·ªìm 3 v√† m·∫•y?", a: ["3", "4", "5"], correct: 1 },
        { q: "T√°ch 10 g·ªìm 5 v√† m·∫•y?", a: ["4", "5", "6"], correct: 1 },
        { q: "H√¨nh tr√≤n c√≥ lƒÉn ƒë∆∞·ª£c kh√¥ng?", a: ["C√≥", "Kh√¥ng"], correct: 0 },
        { q: "Kh·ªëi Rubik c√≥ d·∫°ng kh·ªëi g√¨?", a: ["Kh·ªëi l·∫≠p ph∆∞∆°ng", "Kh·ªëi c·∫ßu"], correct: 0 },
        { q: "C√°i b·∫£ng ƒëen h√¨nh g√¨?", a: ["H√¨nh tr√≤n", "H√¨nh ch·ªØ nh·∫≠t"], correct: 1 },
        { q: "M≈© b·∫£o hi·ªÉm ·ªü ... ƒë·∫ßu b√©?", a: ["Tr√™n", "D∆∞·ªõi"], correct: 0 },
        { q: "B√†n tay ph·∫£i l√† tay c·∫ßm g√¨?", a: ["C·∫ßm b√°t", "C·∫ßm th√¨a/ƒë≈©a"], correct: 1 },
        { q: "S·ªë ·ªü gi·ªØa 8 v√† 10?", a: ["7", "9"], correct: 1 },
        { q: "Ph√©p t√≠nh n√†o b·∫±ng 5?", a: ["2+3", "4+2"], correct: 0 },
        { q: "Ph√©p t√≠nh n√†o b·∫±ng 10?", a: ["5+4", "8+2"], correct: 1 },
        { q: "7 tr·ª´ m·∫•y b·∫±ng 4?", a: ["2", "3", "4"], correct: 1 },
        { q: "2 c·ªông m·∫•y b·∫±ng 10?", a: ["7", "8", "9"], correct: 1 }
    ];

    const part2 = [
    // --- QUY T·∫ÆC CH·ªÆ C/K ---
    { q: "ƒêi·ªÅn ch·ªØ: '...on ki·∫øn'", a: ["c", "k"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...√°i ca'", a: ["c", "k"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...·ªÉ chuy·ªán'", a: ["c", "k"], correct: 1 },
    { q: "ƒêi·ªÅn ch·ªØ: '...√¨ di·ªáu'", a: ["c", "k"], correct: 1 },
    { q: "ƒêi·ªÅn ch·ªØ: '...√¢u c√°'", a: ["c", "k"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...·∫ª v·ªü'", a: ["k", "c"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...i√™n nh·∫´n'", a: ["c", "k"], correct: 1 },
    { q: "ƒêi·ªÅn ch·ªØ: '...im ti√™m'", a: ["k", "c"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...·ªï √°o'", a: ["c", "k"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...√¨ c·ªç'", a: ["k", "c"], correct: 0 },

    // --- QUY T·∫ÆC CH·ªÆ G/GH ---
    { q: "ƒêi·ªÅn ch·ªØ: 'nh√† ...a'", a: ["g", "gh"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: 'g·ªì ...·ªÅ'", a: ["g", "gh"], correct: 1 },
    { q: "ƒêi·ªÅn ch·ªØ: '...hi nh·ªõ'", a: ["g", "gh"], correct: 1 },
    { q: "ƒêi·ªÅn ch·ªØ: 'con ...√†'", a: ["g", "gh"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: 'c√°i ...h·∫ø'", a: ["gh", "g"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...√™ s·ª£'", a: ["gh", "g"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...√† ch·ªçi'", a: ["g", "gh"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...i ch√©p'", a: ["gh", "g"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...·ªó b√†n'", a: ["g", "gh"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...·ªì gh·ªÅ'", a: ["g", "gh"], correct: 0 },

    // --- QUY T·∫ÆC CH·ªÆ NG/NGH ---
    { q: "ƒêi·ªÅn ch·ªØ: 'con ...√©'", a: ["ng", "ngh"], correct: 1 },
    { q: "ƒêi·ªÅn ch·ªØ: 'b·∫Øp ...√¥'", a: ["ng", "ngh"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: 'suy ...ƒ©'", a: ["ng", "ngh"], correct: 1 },
    { q: "ƒêi·ªÅn ch·ªØ: 'c·ªß ...·ªá'", a: ["ng", "ngh"], correct: 1 },
    { q: "ƒêi·ªÅn ch·ªØ: '...·ªß ngon'", a: ["ng", "ngh"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...·ªâ h√®'", a: ["ngh", "ng"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...e nh·∫°c'", a: ["ngh", "ng"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: 'ng·ªçt ...√†o'", a: ["ng", "ngh"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...√© ch∆°i'", a: ["ngh", "ng"], correct: 0 },
    { q: "ƒêi·ªÅn ch·ªØ: '...√≥ng tr√¥ng'", a: ["ng", "ngh"], correct: 0 },

    // --- C√ÇU H·ªéI T·ªîNG H·ª¢P (T√åM L·ªñI SAI) ---
    { q: "T·ª´ n√†o vi·∫øt SAI: 'ngh·ªâ ng∆°i' hay 'ng·ªâ ng∆°i'?", a: ["ngh·ªâ ng∆°i", "ng·ªâ ng∆°i"], correct: 1 },
    { q: "T·ª´ n√†o vi·∫øt ƒê√öNG: 'con ngh√©' hay 'con ng√©'?", a: ["con ngh√©", "con ng√©"], correct: 0 },
    { q: "T·ª´ n√†o vi·∫øt SAI: 'c·ªß ngh·ªá' hay 'c·ªß ng·ªá'?", a: ["c·ªß ngh·ªá", "c·ªß ng·ªá"], correct: 1 },
    { q: "T·ª´ n√†o vi·∫øt ƒê√öNG: 'k·∫ª ch·ªØ' hay 'c·∫ª ch·ªØ'?", a: ["k·∫ª ch·ªØ", "c·∫ª ch·ªØ"], correct: 0 },
    { q: "T·ª´ n√†o vi·∫øt ƒê√öNG: 'g·ªì gh·ªÅ' hay 'gh·ªì gh·ªÅ'?", a: ["g·ªì gh·ªÅ", "gh·ªì gh·ªÅ"], correct: 0 }
];

    const part3 = [
    // --- NH√ìM 1: √ÇM V√Ä V·∫¶N C∆† B·∫¢N (Tu·∫ßn 1 - 10) ---
    { q: "Ti·∫øng n√†o c√≥ √¢m 'th'?", a: ["th·ªè g·ªó", "c√°i r·ªï"], correct: 0 },
    { q: "Ti·∫øng n√†o c√≥ √¢m 'kh'?", a: ["kh·∫ø chua", "qu·∫£ l√™"], correct: 0 },
    { q: "Ti·∫øng n√†o c√≥ √¢m 'ph'?", a: ["ph·ªë x√°", "ƒëi b·ªô"], correct: 0 },
    { q: "Ti·∫øng n√†o c√≥ v·∫ßn 'oi'?", a: ["c√°i c√≤i", "c√°i ca"], correct: 0 },
    { q: "Ti·∫øng n√†o c√≥ v·∫ßn 'ay'?", a: ["m√°y bay", "m√°i nh√†"], correct: 0 },
    { q: "ƒêi·ªÅn v·∫ßn: 'ƒë·ªì ch...'", a: ["∆°i", "∆∞∆°i"], correct: 0 },
    { q: "ƒêi·ªÅn v·∫ßn: 't... c∆∞·ªùi'", a: ["∆∞∆°i", "u√¥i"], correct: 0 },

    // --- NH√ìM 2: √ÇM ƒê√îI V√Ä V·∫¶N PH·ª®C (Tu·∫ßn 11 - 18) ---
    { q: "Ti·∫øng n√†o c√≥ v·∫ßn 'ia'?", a: ["l√° m√≠a", "m√πa h·∫°"], correct: 0 },
    { q: "Ti·∫øng n√†o c√≥ v·∫ßn 'ua'?", a: ["con cua", "c√°i c·ª≠a"], correct: 0 },
    { q: "Ti·∫øng n√†o c√≥ v·∫ßn '∆∞a'?", a: ["ng·ª±a g·ªó", "m√∫a ca"], correct: 0 },
    { q: "ƒêi·ªÅn v·∫ßn: 'cu·ªôn d...'", a: ["√¢y", "ay"], correct: 0 },
    { q: "ƒêi·ªÅn v·∫ßn: 'con l...n'", a: ["∆∞∆°n", "u√¥n"], correct: 0 },
    { q: "ƒêi·ªÅn v·∫ßn: 'b...ng chu·ªëi'", a: ["u√¥ng", "u·ªìng"], correct: 1 },
    { q: "Ti·∫øng n√†o c√≥ v·∫ßn 'u√¥i'?", a: ["n·∫£i chu·ªëi", "con mu·ªói"], correct: 0 },
    { q: "Ti·∫øng n√†o c√≥ v·∫ßn 'i√™n'?", a: ["c√°i di·ªÅu", "ƒë√®n ƒëi·ªán"], correct: 1 },
    { q: "Ti·∫øng n√†o c√≥ v·∫ßn 'i√™p'?", a: ["t·∫•m thi·ªáp", "ti·∫øp n·ªëi"], correct: 1 },
    { q: "ƒêi·ªÅn v·∫ßn: 'm... t√≥c'", a: ["√°i", "ay"], correct: 0 },
    { q: "ƒêi·ªÅn v·∫ßn: 'th... k·∫ª'", a: ["∆∞·ªõc", "∆∞∆°c"], correct: 0 },
    { q: "Ti·∫øng n√†o c√≥ v·∫ßn 'oanh'?", a: ["chim oanh", "qu·∫£ chanh"], correct: 0 },

    // --- NH√ìM 3: T·ª™ NG·ªÆ V√Ä C√ÇU VƒÇN (T·ªïng h·ª£p) ---
    { q: "T·ª´ n√†o ch·ªâ ƒë·ªì d√πng h·ªçc t·∫≠p?", a: ["th∆∞·ªõc k·∫ª", "b√°nh m√¨"], correct: 0 },
    { q: "T·ª´ n√†o ch·ªâ con v·∫≠t?", a: ["c√° tr√™", "c√°i gh·∫ø"], correct: 0 },
    { q: "T·ª´ n√†o ch·ªâ lo√†i hoa?", a: ["hoa lan", "lan can"], correct: 0 },
    { q: "T·ª´ n√†o vi·∫øt ƒë√∫ng ch√≠nh t·∫£?", a: ["ngh·ªâ h√®", "ng·ªâ h√®"], correct: 0 },
    { q: "ƒêi·ªÅn v√†o ch·ªó tr·ªëng: 'B√© ... h·ªçc'", a: ["ƒëi", "ƒëy"], correct: 0 },
    { q: "C√¢u n√†o c√≥ nghƒ©a ƒë√∫ng?", a: ["B√© qu√©t nh√†.", "Nh√† qu√©t b√©."], correct: 0 },
    { q: "Ch·ªçn ch·ªØ vi·∫øt hoa ƒë√∫ng ƒë·∫ßu c√¢u:", a: ["M·∫π y√™u b√©.", "m·∫π y√™u b√©."], correct: 0 },

    // --- NH√ìM 4: ƒê·ªåC HI·ªÇU ƒêO·∫†N VƒÇN (Tr·ªçng t√¢m thi 30/12) ---
    { 
        text: "Nh√† b√© c√≥ con ngh√©. N√≥ r·∫•t ng∆° ng√°c nh√¨n c·ªè xanh.", 
        q: "Con ngh√© ƒëang nh√¨n c√°i g√¨?", 
        a: ["Nh√¨n b√©", "Nh√¨n c·ªè"], 
        correct: 1 
    },
    { 
        text: "M√πa ƒë√¥ng, b√† ƒëan cho b√© chi·∫øc m≈© len m√†u ƒë·ªè r·∫•t ·∫•m.", 
        q: "Chi·∫øc m≈© len m√†u g√¨?", 
        a: ["M√†u ƒë·ªè", "M√†u xanh"], 
        correct: 0 
    },
    { 
        text: "M√πa h√®, c·∫£ nh√† H√† ƒëi ngh·ªâ m√°t ·ªü b·ªù bi·ªÉn. Bi·ªÉn c√≥ c√°t tr·∫Øng.", 
        q: "Nh√† H√† ƒëi ƒë√¢u v√†o m√πa h√®?", 
        a: ["ƒêi ch·ª£", "ƒêi bi·ªÉn"], 
        correct: 1 
    },
    { 
        text: "B√© H√† gi√£ ngh·ªá gi√∫p b√†. C·ªß ngh·ªá c√≥ m√†u v√†ng t∆∞∆°i.", 
        q: "C·ªß ngh·ªá c√≥ m√†u g√¨?", 
        a: ["M√†u t√≠m", "M√†u v√†ng"], 
        correct: 1 
    },
    { 
        text: "S√°ng s·ªõm, g√† tr·ªëng g√°y vang g·ªçi m·ªçi ng∆∞·ªùi th·ª©c d·∫≠y.", 
        q: "Con g√¨ g√°y b√°o th·ª©c?", 
        a: ["G√† tr·ªëng", "Con v·ªãt"], 
        correct: 0 
    },
    { 
        text: "M·∫π mua cho b√© c√°i c·∫∑p m·ªõi c√≥ h√¨nh ch√∫ th·ªè h·ªìng.", 
        q: "C√°i c·∫∑p c√≥ h√¨nh con g√¨?", 
        a: ["Ch√∫ th·ªè", "Ch√∫ g·∫•u"], 
        correct: 0 
    },
    { 
        text: "B√© gi√∫p m·∫π qu√©t nh√† v√† t∆∞·ªõi c√¢y. M·∫π khen b√© chƒÉm ngoan.", 
        q: "B√© l√†m g√¨ gi√∫p m·∫π?", 
        a: ["ƒêi ch∆°i", "Qu√©t nh√†, t∆∞·ªõi c√¢y"], 
        correct: 1 
    },
    { 
        text: "Tr·ªùi m∆∞a, b√© ƒëi √¥ v√† ƒëi ·ªßng ƒë·ªÉ kh√¥ng b·ªã ∆∞·ªõt ch√¢n.", 
        q: "B√© ƒëi g√¨ ƒë·ªÉ kh√¥ng ∆∞·ªõt ch√¢n?", 
        a: ["ƒêi ·ªßng", "ƒêi d√©p"], 
        correct: 0 
    },
    { 
        text: "B√© th√≠ch ƒÉn nho v√† d∆∞a h·∫•u. Nho ng·ªçt l·ªãm.", 
        q: "Qu·∫£ nho c√≥ v·ªã g√¨?", 
        a: ["V·ªã ng·ªçt", "V·ªã chua"], 
        correct: 0 
    },
    { 
        text: "B·ªë ƒë∆∞a b√© ƒëi ph·ªë. Ph·ªë x√° t·∫•p n·∫≠p xe c·ªô.", 
        q: "B·ªë ƒë∆∞a b√© ƒëi ƒë√¢u?", 
        a: ["ƒêi ph·ªë", "ƒêi v∆∞·ªùn"], 
        correct: 0 
    },
    { 
        text: "H·ªì c√≥ c√° v√† c√≥ c·∫£ thi√™n nga b∆°i l·ªôi.", 
        q: "Trong h·ªì c√≥ con g√¨?", 
        a: ["Thi√™n nga", "Con th·ªè"], 
        correct: 0 
    },
    { 
        text: "B√© y√™u b√† nh·∫•t nh√† v√¨ b√† r·∫•t hay k·ªÉ chuy·ªán c·ªï t√≠ch.", 
        q: "V√¨ sao b√© y√™u b√†?", 
        a: ["B√† k·ªÉ chuy·ªán", "B√† cho qu√†"], 
        correct: 0 
    },
    { 
        text: "Cu·ªëi tu·∫ßn, b√© ƒë∆∞·ª£c ƒëi c√¥ng vi√™n ng·∫Øm hoa.", 
        q: "B√© ƒëi ƒë√¢u v√†o cu·ªëi tu·∫ßn?", 
        a: ["ƒêi c√¥ng vi√™n", "ƒêi h·ªçc"], 
        correct: 0 
    },
    { 
        text: "H·ªçc k·ª≥ 1 s·∫Øp k·∫øt th√∫c, b√© h·ª©a s·∫Ω h·ªçc th·∫≠t t·ªët.", 
        q: "B√© h·ª©a ƒëi·ªÅu g√¨?", 
        a: ["H·ªçc th·∫≠t t·ªët", "ƒêi ch∆°i"], 
        correct: 0 }
];

   let currentQuiz = [];
    let currentIdx = 0;
    let correctCount = 0;
    let userAnswers = [];

    function startQuiz(part) {
        if(part === 1) currentQuiz = part1;
        else if(part === 2) currentQuiz = part2;
        else currentQuiz = part3;

        userAnswers = new Array(currentQuiz.length).fill(null);
        currentIdx = 0; correctCount = 0;
        
        document.getElementById('menu-screen').style.display = 'none';
        document.getElementById('quiz-content').style.display = 'block';
        document.getElementById('score-board').style.display = 'none';
        document.getElementById('home-button').style.display = 'flex';
        loadQuestion();
    }

    function goHome() {
        document.getElementById('menu-screen').style.display = 'block';
        document.getElementById('quiz-content').style.display = 'none';
        document.getElementById('score-board').style.display = 'none';
        document.getElementById('home-button').style.display = 'none';
    }

    function loadQuestion() {
        const data = currentQuiz[currentIdx];
        document.getElementById('progress').innerText = `C√¢u ${currentIdx + 1} / ${currentQuiz.length}`;
        const readEl = document.getElementById('reading-container');
        if(data.text) { readEl.innerText = data.text; readEl.style.display = 'block'; }
        else { readEl.style.display = 'none'; }
        
        document.getElementById('question').innerText = data.q;
        const optEl = document.getElementById('options');
        optEl.innerHTML = '';
        document.getElementById('result-message').innerText = '';

        data.a.forEach((opt, i) => {
            const btn = document.createElement('button');
            btn.innerText = opt;
            btn.classList.add('option-btn');
            if (userAnswers[currentIdx] !== null) {
                if (i === data.correct) btn.classList.add('correct');
                else if (i === userAnswers[currentIdx]) btn.classList.add('wrong');
                btn.disabled = true;
            }
            btn.onclick = () => {
                if(userAnswers[currentIdx] !== null) return;
                userAnswers[currentIdx] = i;
                if(i === data.correct) {
                    correctCount++;
                    document.getElementById('result-message').innerText = "ƒê√∫ng r·ªìi! üéâ";
                    document.getElementById('result-message').style.color = "green";
                } else {
                    document.getElementById('result-message').innerText = "Th·ª≠ l·∫°i nh√©! ‚ù§Ô∏è";
                    document.getElementById('result-message').style.color = "red";
                }
                setTimeout(() => nextQuestion(), 1000);
            };
            optEl.appendChild(btn);
        });
        document.getElementById('prev-btn').disabled = (currentIdx === 0);
        document.getElementById('next-btn').innerText = (currentIdx === currentQuiz.length - 1) ? "K·∫øt th√∫c" : "Ti·∫øp theo";
    }

    function nextQuestion() {
        if(currentIdx < currentQuiz.length - 1) { currentIdx++; loadQuestion(); }
        else { showScore(); }
    }
    function prevQuestion() { if(currentIdx > 0) { currentIdx--; loadQuestion(); } }

    function showScore() {
        document.getElementById('quiz-content').style.display = 'none';
        document.getElementById('score-board').style.display = 'block';
        document.getElementById('final-score').innerText = `${correctCount} / ${currentQuiz.length}`;
        const fb = document.getElementById('feedback-text');
        if(correctCount >= currentQuiz.length * 0.9) fb.innerText = "B√© qu√° tuy·ªát v·ªùi! ƒêi·ªÉm 10 ƒëang ch·ªù con! üèÜ";
        else fb.innerText = "B√© l√†m t·ªët l·∫Øm, m√¨nh √¥n l·∫°i ƒë·ªÉ nh·ªõ k·ªπ h∆°n nh√©! ‚ù§Ô∏è";
    }
</script>
</body>
</html>